<% include ./partials/header %>
  <style>
    /* :root {
            --color-text: #5f5c70;
            --color-text-muted: #5f5c70;
            --color-purple: #6a5acd;
        } */
        .accordion {
            max-width: 25rem;
            border-radius: 1rem;
            box-shadow: 0 0 5rem lightgrey;
        }

        .accordion__item:not(:last-child) {
            border-bottom: 1px solid lightgrey;
        }

        .accordion__btn {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 1.2rem 1.4rem;
            background: white;
            border: none;
            outline: none;
            color: #5f5c70;
            font-size: 1.2rem;
            text-align: left;
            cursor: pointer;
            transition: 0.1s;
        }

        .accordion__btn:hover {
            color: #6a5acd;
            background: #f4f3fb;
        }

        .accordion__item--active .accordion__btn {
            color: #6a5acd;
            border-bottom: 2px solid #6a5acd;
            background: #f4f3fb;
        }

        svg {
            padding-right: 1rem;
            width: 2em;
        }

        .accordion__icon {
            border-radius: 50%;
            transform: rotate(0deg);
            transition: 0.3s ease-in-out;
            opacity: 0.9;
        }

        .accordion__item--active .accordion__icon {
            transform: rotate(135deg);
        }

        .accordion__content {
            font-weight: 400;
            font-size: 18px;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            color: #5f5c70;
            transform: translateX(16px);
            transition: max-height 0.5s ease, opacity 0.5s, transform 0.5s;
        }

        .accordion__item--active .accordion__content {
            opacity: 1;
            transform: translateX(0px);
            max-height: 100vh;
        }


        .slider-container {
            position: relative;
            height: 400px;
            margin: 20px auto;
        }

        .container-fluid {
            display: flex;
            justify-content: center;
        }

        .container {
            margin-top: 50px;
        }

        .slide {
            position: relative;
            top: 0;
            left: 0;
            width: 25em;
            margin: 0;
            opacity: 0;
            transition: 1s ease-in-out;
            overflow: hidden;
        }

        .slide img {
            width: 100%;
            height: 400px;
        }

        .prev,
        .next {
            position: absolute;
            top: 50%;
            border: none;
            background: rgba(32, 26, 26, 0.527);
            color: rgb(243, 243, 243);
            padding: 10px 16px;
            margin-top: -25px;
            font-size: 30px;
            z-index: 1000;
            font-weight: 900;
            transition: 0.5s ease-in-out;
        }

        .prev {
            left: 20%;
        }

        .next {
            right: 20%;
        }

        .dots_container {
            display: flex;
            margin: 5px auto;
            width: fit-content;
        }

        .dots {
            height: 12px;
            width: 12px;
            border-radius: 50%;
            background: #bdbdbd;
            margin: 4px;
        }

        .dots:hover {
            background: #696969 !important;
        }

        .change-mess {
            margin-top: 7.5rem;
        }

        @media (max-width: 992px) {
            .prev {
                left: 15%;
            }

            .next {
                right: 15%;
            }
        }

        @media screen and (max-width:600px) {
            .slide {
                height: fit-content;
            }

            .container {
                margin-top: 10px;
            }

            .container {
                height: 200px;
            }

            .slide img {
                height: 200px;
            }

            .prev,
            .next {
                top: 13.5%;
                border-radius: 25%;
            }

            .prev {
                left: 4%;
            }

            .next {
                right: 4%
            }
        }
    </style>
    <div class="container slider-container">
        <% const days=["Monday", "Tuesday" , "Wednesday" , "Thursday" , "Friday" , "Saturday" , "Sunday" ]; %>
            <% for(let weekday of days){ %>
                <div class="container-fluid mx-auto">
                    <div class="slide">
                        <div class="accordion py-3 bg-white">
                            <h2 class="accordion__heading mb-3 px-4 text-center">
                                <%= weekday %>
                            </h2>
                            <% mess.forEach(function(m){ %>
                                <% if(m.menu.day==weekday ) { %>
                                    <div class="accordion__item">
                                        <button class="accordion__btn">
                                            <span class="accordion__caption">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                                    <path
                                                        d="M221.6 148.7C224.7 161.3 224.8 174.5 222.1 187.2C219.3 199.1 213.6 211.9 205.6 222.1C191.1 238.6 173 249.1 151.1 254.1V472C151.1 482.6 147.8 492.8 140.3 500.3C132.8 507.8 122.6 512 111.1 512C101.4 512 91.22 507.8 83.71 500.3C76.21 492.8 71.1 482.6 71.1 472V254.1C50.96 250.1 31.96 238.9 18.3 222.4C10.19 212.2 4.529 200.3 1.755 187.5C-1.019 174.7-.8315 161.5 2.303 148.8L32.51 12.45C33.36 8.598 35.61 5.197 38.82 2.9C42.02 .602 45.97-.4297 49.89 .0026C53.82 .4302 57.46 2.303 60.1 5.259C62.74 8.214 64.18 12.04 64.16 16V160H81.53L98.62 11.91C99.02 8.635 100.6 5.621 103.1 3.434C105.5 1.248 108.7 .0401 111.1 .0401C115.3 .0401 118.5 1.248 120.9 3.434C123.4 5.621 124.1 8.635 125.4 11.91L142.5 160H159.1V16C159.1 12.07 161.4 8.268 163.1 5.317C166.6 2.366 170.2 .474 174.1 .0026C178-.4262 181.1 .619 185.2 2.936C188.4 5.253 190.6 8.677 191.5 12.55L221.6 148.7zM448 472C448 482.6 443.8 492.8 436.3 500.3C428.8 507.8 418.6 512 408 512C397.4 512 387.2 507.8 379.7 500.3C372.2 492.8 368 482.6 368 472V352H351.2C342.8 352 334.4 350.3 326.6 347.1C318.9 343.8 311.8 339.1 305.8 333.1C299.9 327.1 295.2 320 291.1 312.2C288.8 304.4 287.2 296 287.2 287.6L287.1 173.8C288 136.9 299.1 100.8 319.8 70.28C340.5 39.71 369.8 16.05 404.1 2.339C408.1 .401 414.2-.3202 419.4 .2391C424.6 .7982 429.6 2.62 433.9 5.546C438.2 8.472 441.8 12.41 444.2 17.03C446.7 21.64 447.1 26.78 448 32V472z" />
                                                </svg>
                                                <%= m.menu.time %>
                                            </span>
                                            <span class="accordion__icon"><i class="fa fa-plus"></i></span>
                                        </button>
                                        <div class="accordion__content">
                                            <ul class="list-group list-group-flush py-3 px-4">
                                                <% m.menu.dishes.forEach(function(d){ %>
                                                    <li class="list-group-item">
                                                        <%= d %>
                                                    </li>
                                                    <% }); %>
                                            </ul>
                                        </div>
                                    </div>
                                    <% } %>
                                        <% }); %>
                        </div>
                    </div>
                </div>
                <% } %>

                    <button class="prev" onclick="prev()"><i class="fa fa-angle-left"></i></button>
                    <button class="next" onclick="next()"><i class="fa fa-angle-right"></i></button>

                    <div class="container-fluid change-mess">
                        <a class="btn btn-warning" href="/mess/change">Edit Mess Menu</a>
                    </div>

    </div>

    <div class="dots_container" id="indicator"></div>

    <script src="js/mess.js"></script>

    <% include ./partials/footer %>
